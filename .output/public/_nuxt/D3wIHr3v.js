import{r as m,o as P,e as X,v as F,x as $,y as L,X as c,a0 as C}from"./DCjIt9qW.js";import{_ as N}from"./DlAUqK2U.js";const q=()=>{const i=m({x:0,y:0}),s=d=>{i.value={x:d.clientX,y:d.clientY}};return P(()=>{window.addEventListener("mousemove",s)}),X(()=>{window.removeEventListener("mousemove",s)}),i},S={name:"Particles",props:{quantity:{type:Number,default:30},staticity:{type:Number,default:50},ease:{type:Number,default:50},refresh:{type:Boolean,default:!1}},setup(i){const s=m(null),d=m(null),n=m(null),v=m([]),p=q(),y=c({x:0,y:0}),a=c({w:0,h:0}),h=1;P(()=>{s.value&&(n.value=s.value.getContext("2d")),x(),z(),window.addEventListener("resize",x)}),X(()=>{window.removeEventListener("resize",x)}),C(()=>p.value,()=>{Y()}),C(()=>i.refresh,()=>{x()});const x=()=>{E(),b()},Y=()=>{if(s.value){const t=s.value.getBoundingClientRect(),{w:e,h:o}=a,l=p.value.x-t.left-e/2,u=p.value.y-t.top-o/2;l<e/2&&l>-e/2&&u<o/2&&u>-o/2&&(y.x=l,y.y=u)}},E=()=>{d.value&&s.value&&n.value&&(v.value.length=0,a.w=d.value.offsetWidth,a.h=d.value.offsetHeight,s.value.width=a.w*h,s.value.height=a.h*h,s.value.style.width=a.w+"px",s.value.style.height=a.h+"px",n.value.scale(h,h))},M=()=>{const t=Math.floor(Math.random()*a.w),e=Math.floor(Math.random()*a.h),o=0,l=0,u=Math.floor(Math.random()*2)+1,r=0,f=parseFloat((Math.random()*.6+.1).toFixed(1)),g=(Math.random()-.5)*.2,R=(Math.random()-.5)*.2,A=.1+Math.random()*4;return{x:t,y:e,translateX:o,translateY:l,size:u,alpha:r,targetAlpha:f,dx:g,dy:R,magnetism:A}},w=(t,e=!1)=>{if(n.value){const{x:o,y:l,translateX:u,translateY:r,size:f,alpha:g}=t;n.value.translate(u,r),n.value.beginPath(),n.value.arc(o,l,f,0,2*Math.PI),n.value.fillStyle=`rgba(255, 255, 255, ${g})`,n.value.fill(),n.value.setTransform(h,0,0,h,0,0),e||v.value.push(t)}},_=()=>{n.value&&n.value.clearRect(0,0,a.w,a.h)},b=()=>{_();const t=i.quantity;for(let e=0;e<t;e++){const o=M();w(o)}},B=(t,e,o,l,u)=>{const r=(t-e)*(u-l)/(o-e)+l;return r>0?r:0},z=()=>{_(),v.value.forEach((t,e)=>{const l=[t.x+t.translateX-t.size,a.w-t.x-t.translateX-t.size,t.y+t.translateY-t.size,a.h-t.y-t.translateY-t.size].reduce((r,f)=>Math.min(r,f)),u=parseFloat(B(l,0,20,0,1).toFixed(2));if(u>1?(t.alpha+=.02,t.alpha>t.targetAlpha&&(t.alpha=t.targetAlpha)):t.alpha=t.targetAlpha*u,t.x+=t.dx,t.y+=t.dy,t.translateX+=(y.x/(i.staticity/t.magnetism)-t.translateX)/i.ease,t.translateY+=(y.y/(i.staticity/t.magnetism)-t.translateY)/i.ease,t.x<-t.size||t.x>a.w+t.size||t.y<-t.size||t.y>a.h+t.size){v.value.splice(e,1);const r=M();w(r)}else w({...t,x:t.x,y:t.y,translateX:t.translateX,translateY:t.translateY,alpha:t.alpha},!0)}),window.requestAnimationFrame(z)};return{canvasRef:s,canvasContainerRef:d}}},k={ref:"canvasContainerRef","aria-hidden":"true"},V={ref:"canvasRef"};function j(i,s,d,n,v,p){return $(),F("div",k,[L("canvas",V,null,512)],512)}const O=Object.assign(N(S,[["render",j]]),{__name:"StellarParticles"});export{O as P,q as u};
